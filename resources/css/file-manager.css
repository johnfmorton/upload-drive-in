/* File Manager Responsive Styles */

/* Base file manager container */
.file-manager {
    @apply flex flex-col;
}

/* File list container with responsive behavior */
.file-list-container {
    @apply min-h-0 flex-1;
}

/* File card styles for grid view */
.file-card {
    @apply transition-all duration-200 ease-in-out;
}

/* Checkerboard background for transparent images */
.checkerboard-bg {
  background-color: #eee; /* Base color for one square */
  background-image:
    linear-gradient(45deg, #ccc 25%, transparent 25%),
    linear-gradient(135deg, #ccc 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #ccc 75%),
    linear-gradient(135deg, transparent 75%, #ccc 75%);
  background-size: 20px 20px; /* Size of each square in the pattern */
  background-position: 0 0, 10px 0, 10px 10px, 0 10px; /* Positioning of each gradient layer */
}

.file-card:hover {
    @apply shadow-lg transform scale-105;
}

/* Responsive grid layout - Mobile First */
.file-grid {
    @apply grid gap-4;
}

/* Mobile: Single column */
@media (max-width: 640px) {
    .file-grid {
        @apply grid-cols-1 gap-3 p-3;
    }

    .file-card {
        @apply max-w-full;
    }
}

/* Small tablets: 2 columns */
@media (min-width: 641px) and (max-width: 768px) {
    .file-grid {
        @apply grid-cols-2 gap-4 p-4;
    }
}

/* Large tablets: 3 columns */
@media (min-width: 769px) and (max-width: 1024px) {
    .file-grid {
        @apply grid-cols-3 gap-4 p-4;
    }
}

/* Desktop: 4 columns */
@media (min-width: 1025px) and (max-width: 1280px) {
    .file-grid {
        @apply grid-cols-4 gap-6 p-6;
    }
}

/* Large desktop: 5 columns */
@media (min-width: 1281px) {
    .file-grid {
        @apply grid-cols-5 gap-6 p-6;
    }
}

/* Table responsive behavior */
@media (max-width: 768px) {
    .file-table-container {
        @apply overflow-x-auto;
    }

    .file-table {
        @apply min-w-full;
    }

    .file-table th,
    .file-table td {
        @apply px-3 py-2 text-xs;
    }

    .file-table .filename-col {
        @apply min-w-48;
    }

    .file-table .email-col {
        @apply min-w-32;
    }

    .file-table .actions-col {
        @apply min-w-32;
    }
}

/* Filename text wrapping */
.filename-text {
    @apply break-words hyphens-auto;
    word-break: break-word;
    hyphens: auto;
}

/* Mobile-first toolbar layout */
.toolbar {
    @apply flex flex-col space-y-4;
}

@media (min-width: 1024px) {
    .toolbar {
        @apply flex-row items-center justify-between space-y-0;
    }
}

/* Bulk actions responsive layout */
.bulk-actions {
    @apply flex flex-wrap items-center gap-2;
}

@media (max-width: 640px) {
    .bulk-actions {
        @apply flex-col items-start gap-3;
    }

    .bulk-actions > * {
        @apply w-full;
    }
}

/* Search and filter controls */
.search-filters {
    @apply flex flex-col gap-3;
}

@media (min-width: 640px) {
    .search-filters {
        @apply flex-row items-center;
    }
}

/* Enhanced File Preview Modal Styles */
.preview-modal {
    @apply fixed inset-0 z-[10002];
}

.preview-modal-overlay {
    @apply fixed inset-0 bg-black/75 transition-opacity;
    z-index: 10002;
}

.preview-modal-panel {
    @apply inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all;
    max-height: 95vh;
    z-index: 10003;
}

/* Image viewer styles */
.image-viewer {
    @apply h-full overflow-hidden relative bg-gray-100;
}

.image-viewer-container {
    @apply h-full overflow-auto;
    cursor: grab;
}

.image-viewer-container:active {
    cursor: grabbing;
}

.image-viewer img {
    @apply block mx-auto transition-transform duration-200;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
}

/* PDF viewer styles */
.pdf-viewer {
    @apply h-full bg-gray-100;
}

.pdf-container {
    @apply h-full overflow-auto flex items-center justify-center p-4;
}

.pdf-canvas {
    @apply max-w-full max-h-full shadow-lg bg-white;
}

/* Text and code viewer styles */
.text-viewer {
    @apply h-full overflow-auto p-6;
}

.text-viewer pre {
    @apply text-sm font-mono whitespace-pre-wrap break-words bg-gray-50 p-4 rounded border;
}

.code-viewer {
    @apply h-full overflow-auto;
}

.code-viewer .code-block {
    @apply bg-gray-900 text-gray-100 p-4 rounded overflow-auto text-sm font-mono;
}

.code-viewer .code-block pre {
    @apply m-0 p-0 bg-transparent text-inherit;
}

/* Preview controls */
.preview-controls {
    @apply flex items-center space-x-2;
}

.preview-control-btn {
    @apply p-2 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded transition-colors;
}

.preview-control-btn:disabled {
    @apply opacity-50 cursor-not-allowed;
}

.preview-control-btn svg {
    @apply w-5 h-5;
}

/* Zoom indicator */
.zoom-indicator {
    @apply text-xs text-gray-500 min-w-12 text-center;
}

/* Page indicator */
.page-indicator {
    @apply text-xs text-gray-500 min-w-16 text-center;
}

/* File metadata display */
.file-metadata {
    @apply grid grid-cols-1 gap-x-4 gap-y-2 sm:grid-cols-2;
}

.file-metadata dt {
    @apply text-sm font-medium text-gray-500;
}

.file-metadata dd {
    @apply text-sm text-gray-900;
}

/* Error and loading states */
.preview-loading {
    @apply flex items-center justify-center py-12;
}

.preview-error {
    @apply flex items-center justify-center py-12;
}

.preview-error svg {
    @apply mx-auto h-12 w-12 text-red-400;
}

.preview-unsupported {
    @apply flex items-center justify-center py-12;
}

.preview-unsupported svg {
    @apply mx-auto h-16 w-16 text-gray-400;
}

/* Responsive adjustments */
@media (max-width: 640px) {
    .preview-modal-panel {
        @apply mx-4 my-8 max-w-none w-auto;
        max-height: calc(100vh - 4rem);
    }

    .preview-controls {
        @apply flex-wrap gap-2;
    }

    .preview-control-btn {
        @apply p-1.5;
    }

    .preview-control-btn svg {
        @apply w-4 h-4;
    }

    .image-viewer-container {
        touch-action: pan-x pan-y pinch-zoom;
    }

    .text-viewer {
        @apply p-4;
    }

    .text-viewer pre {
        @apply text-xs p-3;
    }

    .code-viewer .code-block {
        @apply text-xs p-3;
    }
}

@media (min-width: 641px) and (max-width: 1024px) {
    .preview-modal-panel {
        @apply max-w-4xl;
    }
}

@media (min-width: 1025px) {
    .preview-modal-panel {
        @apply max-w-6xl;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .preview-modal-overlay {
        @apply bg-black;
    }

    .image-viewer {
        @apply bg-white border-2 border-gray-900;
    }

    .preview-control-btn {
        @apply border border-current;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .preview-modal-panel {
        @apply transition-none;
    }

    .image-viewer img {
        @apply transition-none;
    }

    .preview-control-btn {
        @apply transition-none;
    }
}

/* Print styles */
@media print {
    .preview-modal {
        @apply hidden;
    }
}

/* Status badges responsive sizing */
.status-badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
}

@media (max-width: 640px) {
    .status-badge {
        @apply px-2 py-1 text-xs;
    }
}

/* Action buttons responsive */
.action-buttons {
    @apply flex items-center space-x-2;
}

@media (max-width: 640px) {
    .action-buttons {
        @apply flex-col space-x-0 space-y-2;
    }

    .action-buttons button {
        @apply w-full text-center;
    }
}

/* File size and date formatting */
.file-meta {
    @apply text-xs text-gray-500;
}

@media (max-width: 640px) {
    .file-meta {
        @apply text-xs;
    }
}

/* Checkbox styling improvements */
.file-checkbox {
    @apply rounded border-gray-300 text-blue-600 shadow-sm focus:ring-blue-500;
}

/* Loading states */
.loading-spinner {
    @apply animate-spin rounded-full border-b-2 border-blue-600;
}

/* Empty state styling */
.empty-state {
    @apply text-center py-12;
}

.empty-state svg {
    @apply mx-auto h-12 w-12 text-gray-400;
}

.empty-state h3 {
    @apply mt-2 text-sm font-medium text-gray-900;
}

.empty-state p {
    @apply mt-1 text-sm text-gray-500;
}

/* Pagination responsive */
.pagination-container {
    @apply flex items-center justify-between;
}

@media (max-width: 640px) {
    .pagination-container {
        @apply flex-col space-y-3;
    }
}

/* Focus states for accessibility */
.file-card:focus-within {
    @apply ring-2 ring-blue-500 ring-offset-2;
}

.file-table tr:focus-within {
    @apply bg-blue-50;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .file-card {
        @apply border-2 border-gray-900;
    }

    .status-badge {
        @apply border border-current;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .file-card {
        @apply transition-none transform-none;
    }

    .file-card:hover {
        @apply transform-none;
    }

    .loading-spinner {
        @apply animate-none;
    }
}

/* Print styles */
@media print {
    .file-manager {
        @apply text-black bg-white;
    }

    .toolbar,
    .action-buttons,
    .bulk-actions {
        @apply hidden;
    }

    .file-card {
        @apply shadow-none border border-gray-300;
    }
}

/* Dark mode support (if implemented) */
@media (prefers-color-scheme: dark) {
    .file-manager {
        @apply bg-gray-900 text-white;
    }

    .file-card {
        @apply bg-gray-800 border-gray-700;
    }

    .status-badge {
        @apply bg-gray-700/80;
    }
}
/* En
hanced Table Controls */

/* Column visibility dropdown */
.column-dropdown {
    @apply absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black/5 z-10;
}

.column-dropdown-item {
    @apply flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer;
}

.column-dropdown-header {
    @apply px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-100;
}

.column-dropdown-divider {
    @apply border-t border-gray-100 pt-1;
}

/* Enhanced table with fixed layout */
.enhanced-table {
    @apply table-fixed w-full divide-y divide-gray-200;
}

.enhanced-table th {
    @apply px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider;
}

.enhanced-table td {
    @apply px-6 py-4 text-sm;
}

/* Column resizing */
.column-resize-handle {
    @apply w-1 h-4 bg-gray-300 cursor-col-resize opacity-0 transition-opacity;
}

.column-resize-handle:hover,
[group]:hover .column-resize-handle {
    @apply opacity-100;
}

.column-resize-handle:active {
    @apply bg-blue-500;
}

/* Sticky columns */
.sticky-column {
    @apply sticky z-10;
}

.sticky-left {
    @apply left-0;
}

.sticky-right {
    @apply right-0;
}

/* Column header with controls */
.column-header {
    @apply flex items-center justify-between;
    [group]: '';
}

.column-header-content {
    @apply flex items-center space-x-1;
}

.sort-indicator {
    @apply text-blue-600 font-bold;
}

/* Table container with horizontal scroll */
.table-container {
    @apply overflow-x-auto;
}

.table-container::-webkit-scrollbar {
    @apply h-2;
}

.table-container::-webkit-scrollbar-track {
    @apply bg-gray-100;
}

.table-container::-webkit-scrollbar-thumb {
    @apply bg-gray-400 rounded;
}

.table-container::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
}

/* Column width constraints */
.column-min-width {
    min-width: var(--min-width, 100px);
}

.column-max-width {
    max-width: var(--max-width, 500px);
}

/* Resizing cursor */
.resizing {
    cursor: col-resize !important;
}

.resizing * {
    cursor: col-resize !important;
}

/* Column controls button */
.column-controls-btn {
    @apply inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500;
}

/* Enhanced sorting indicators */
.sort-asc::after {
    content: "▲";
    @apply text-blue-600 ml-1;
}

.sort-desc::after {
    content: "▼";
    @apply text-blue-600 ml-1;
}

/* Column visibility checkbox */
.column-visibility-checkbox {
    @apply rounded border-gray-300 text-blue-600 shadow-sm focus:ring-blue-500;
}

/* Responsive table enhancements */
@media (max-width: 768px) {
    .enhanced-table th,
    .enhanced-table td {
        @apply px-3 py-2 text-xs;
    }

    .column-controls-btn {
        @apply px-2 py-1 text-xs;
    }

    .column-dropdown {
        @apply w-48;
    }

    .column-resize-handle {
        @apply w-2 h-3;
    }
}

/* Table row hover effects */
.enhanced-table tbody tr:hover {
    @apply bg-gray-50;
}

.enhanced-table tbody tr:hover .sticky-column {
    @apply bg-gray-50;
}

/* Column header hover effects */
.enhanced-table th:hover {
    @apply bg-gray-100;
}

.enhanced-table th.sortable:hover {
    @apply bg-gray-100 cursor-pointer;
}

/* Focus states for accessibility */
.column-controls-btn:focus {
    @apply ring-2 ring-blue-500 ring-offset-2;
}

.column-dropdown-item:focus {
    @apply bg-blue-50 outline-none;
}

/* Loading state for table */
.table-loading {
    @apply opacity-50 pointer-events-none;
}

.table-loading::after {
    content: "";
    @apply absolute inset-0 bg-white/50 flex items-center justify-center;
}

/* Column width transition */
.column-width-transition {
    @apply transition-all duration-200 ease-in-out;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .enhanced-table {
        @apply border-2 border-gray-900;
    }

    .enhanced-table th,
    .enhanced-table td {
        @apply border border-gray-900;
    }

    .column-resize-handle {
        @apply bg-gray-900;
    }

    .column-controls-btn {
        @apply border-2 border-gray-900;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .column-width-transition {
        @apply transition-none;
    }

    .column-dropdown {
        @apply transition-none;
    }
}

/* Print styles */
@media print {
    .column-controls-btn,
    .column-dropdown,
    .column-resize-handle {
        @apply hidden;
    }

    .enhanced-table {
        @apply table-auto;
    }

    .sticky-column {
        @apply static;
    }
}

/* Enhanced Modal Styles for Delete Confirmation */
.modal-container {
    position: fixed;
    inset: 0;
    z-index: 9999;
    overflow-y: auto;
    pointer-events: auto;
}

.modal-backdrop {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.5);
    transition: opacity 300ms ease-out;
}

.modal-panel {
    position: relative;
    z-index: 10000;
    pointer-events: auto;
    background: white;
    border-radius: 0.5rem;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

/* Ensure modal is always on top */
.modal-container.show {
    z-index: 9999 !important;
}

.modal-panel.show {
    z-index: 10000 !important;
}

/* Prevent modal from being hidden by other elements */
.modal-backdrop {
    backdrop-filter: blur(2px);
}

/* Enhanced focus management */
.modal-panel:focus-within {
    outline: none;
}

/* Improved button styling in modals */
.modal-panel button:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

/* Loading state for modal buttons */
.modal-button-loading {
    opacity: 0.7;
    cursor: not-allowed;
    pointer-events: none;
}

/* Modal animation improvements */
.modal-enter {
    opacity: 0;
    transform: scale(0.95) translateY(1rem);
}

.modal-enter-active {
    opacity: 1;
    transform: scale(1) translateY(0);
    transition: opacity 300ms ease-out, transform 300ms ease-out;
}

.modal-exit {
    opacity: 1;
    transform: scale(1) translateY(0);
}

.modal-exit-active {
    opacity: 0;
    transform: scale(0.95) translateY(1rem);
    transition: opacity 200ms ease-in, transform 200ms ease-in;
}

/* Responsive modal sizing */
@media (max-width: 640px) {
    .modal-panel {
        margin: 1rem;
        max-width: calc(100vw - 2rem);
    }
}

@media (min-width: 641px) {
    .modal-panel {
        max-width: 32rem;
        margin: 2rem auto;
    }
}

/* High contrast mode support for modals */
@media (prefers-contrast: high) {
    .modal-backdrop {
        background-color: rgba(0, 0, 0, 0.8);
    }
    
    .modal-panel {
        border: 2px solid #000;
    }
}

/* Reduced motion support for modals */
@media (prefers-reduced-motion: reduce) {
    .modal-enter-active,
    .modal-exit-active {
        transition: none;
    }
    
    .modal-backdrop {
        transition: none;
    }
}

/* Print styles for modals */
@media print {
    .modal-container {
        display: none !important;
    }
}